{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "not working",
            "type": "debugpy",
            "request": "launch",
            "program": "fastvideo/train_grpo_flux.py",
            "args": [
                "--seed", "42",
                "--pretrained_model_name_or_path", "black-forest-labs/FLUX.1-dev",
                "--max_train_steps", "5",
                "--train_batch_size", "1",
                "--data_json_path", "data/rl_embeddings/videos2caption.json"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "env": {
                "CUDA_VISIBLE_DEVICES": "3",
            }
        },
        {
            "name": "Debug GRPO Flux",
            "type": "python",
            "request": "launch",
            "module": "torch.distributed.run",
            "args": [
                "--nproc_per_node=1",
                "--master_port=19002",
                "fastvideo/train_grpo_flux.py",
                "--seed", "42",
                "--pretrained_model_name_or_path", "data/flux",
                "--vae_model_path", "data/flux",
                "--cache_dir", "data/.cache",
                "--data_json_path", "data/rl_embeddings/videos2caption.json",
                "--gradient_checkpointing",
                "--train_batch_size", "2",
                "--num_latent_t", "1",
                "--sp_size", "1",
                "--train_sp_batch_size", "2",
                "--dataloader_num_workers", "4",
                "--gradient_accumulation_steps", "12",
                "--max_train_steps", "300",
                "--learning_rate", "1e-5",
                "--mixed_precision", "bf16",
                "--checkpointing_steps", "40",
                "--allow_tf32",
                "--cfg", "0.0",
                "--output_dir", "data/outputs/grpo",
                "--h", "720",
                "--w", "720",
                "--t", "1",
                "--sampling_steps", "16",
                "--eta", "0.3",
                "--lr_warmup_steps", "0",
                "--sampler_seed", "1223627",
                "--max_grad_norm", "1.0",
                "--weight_decay", "0.0001",
                "--use_hpsv2",
                "--num_generations", "12",
                "--shift", "3",
                "--use_group",
                "--ignore_last",
                "--timestep_fraction", "0.6",
                "--init_same_noise",
                "--clip_range", "1e-4",
                "--adv_clip_max", "5.0"
            ],
            "console": "integratedTerminal",
            "justMyCode": false,
            "env": {
                "CUDA_VISIBLE_DEVICES": "1",
            }
        },
        {
            "name": "Debug GRPO Kontext",
            "type": "python",
            "request": "launch",
            "module": "torch.distributed.run",
            "args": [
                "--nproc_per_node=1",
                "--master_port=19003",
                "fastvideo_edited/train_grpo_flux_kontext.py",
                "--seed", "42",
                "--pretrained_model_name_or_path", "data/flux",
                "--vae_model_path", "data/flux",
                "--cache_dir", "data/.cache",
                "--dataset_config", "dataset_config/dream_scene.yaml",
                "--gradient_checkpointing",
                "--train_batch_size", "2",
                "--num_latent_t", "1",
                "--sp_size", "1",
                "--train_sp_batch_size", "2",
                "--dataloader_num_workers", "4",
                "--gradient_accumulation_steps", "12",
                "--max_train_steps", "300",
                "--learning_rate", "1e-5",
                "--mixed_precision", "bf16",
                "--checkpointing_steps", "40",
                "--allow_tf32",
                "--cfg", "0.0",
                "--output_dir", "data/outputs/grpo",
                "--h", "720",
                "--w", "720",
                "--t", "1",
                "--sampling_steps", "16",
                "--eta", "0.3",
                "--lr_warmup_steps", "0",
                "--sampler_seed", "1223627",
                "--max_grad_norm", "1.0",
                "--weight_decay", "0.0001",
                "--use_hpsv2",
                "--num_generations", "12",
                "--shift", "3",
                "--use_group",
                "--ignore_last",
                "--timestep_fraction", "0.6",
                "--init_same_noise",
                "--clip_range", "1e-4",
                "--adv_clip_max", "5.0"
            ],
            "console": "integratedTerminal",
            "justMyCode": false,
            "env": {
                "CUDA_VISIBLE_DEVICES": "3",
            }
        }
    ]
}